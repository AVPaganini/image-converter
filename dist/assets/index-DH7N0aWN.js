import{r as e,a as t}from"./react-B2B-WOM0.js";import{X as r,U as s,T as n,D as a,A as l,R as o,I as i,a as c}from"./lucide-B10z3yHp.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var d={exports:{}},m={},u=e,x=Symbol.for("react.element"),g=Symbol.for("react.fragment"),h=Object.prototype.hasOwnProperty,f=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b={key:!0,ref:!0,__self:!0,__source:!0};function p(e,t,r){var s,n={},a=null,l=null;for(s in void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(l=t.ref),t)h.call(t,s)&&!b.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===n[s]&&(n[s]=t[s]);return{$$typeof:x,type:e,key:a,ref:l,props:n,_owner:f.current}}m.Fragment=g,m.jsx=p,m.jsxs=p,d.exports=m;var v,y=d.exports,j=t;v=j.createRoot,j.hydrateRoot;const w={};const N=(e,t)=>{const r=URL.createObjectURL(e),s=document.createElement("a");s.href=r,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)},S=e=>{if(null===e)return"-";const t=["B","KB","MB","GB"];let r=e,s=0;for(;r>=1024&&s<t.length-1;)r/=1024,s++;return`${r.toFixed(1)} ${t[s]}`},C=(e,t)=>{if(null===t)return"-";const r=(e-t)/e*100;return`${Math.round(r)}%`},k=e=>{const t=e.lastIndexOf(".");return`${-1!==t?e.substring(0,t):e}.webp`},R=({onFilesAccepted:t,disabled:n=!1,multiple:a=!1})=>{const[l,o]=e.useState(!1),[i,c]=e.useState(null),d=e.useCallback((e=>{e.preventDefault(),o(!0)}),[]),m=e.useCallback((e=>{e.preventDefault(),o(!1)}),[]),u=e.useCallback((e=>{c(null);const t=Array.from(e).filter((e=>(e=>"image/png"===e.type)(e)));return 0===t.length?(c("Please select PNG images only"),[]):!a&&t.length>1?[t[0]]:t}),[a]),x=e.useCallback((e=>{if(e.preventDefault(),o(!1),n)return;const r=u(Array.from(e.dataTransfer.files));r.length>0&&t(r)}),[n,t,u]),g=e.useCallback((e=>{if(n||!e.target.files)return;const r=u(Array.from(e.target.files));r.length>0&&t(r),e.target.value=""}),[n,t,u]),h=e.useCallback((()=>{c(null)}),[]);return y.jsxs("div",{className:"relative",children:[i&&y.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-red-100 text-red-600 p-3 rounded-md flex items-center justify-between mb-4 animate-fadeIn",children:[y.jsx("span",{children:i}),y.jsx("button",{onClick:h,className:"text-red-500 hover:text-red-700 transition-colors","aria-label":"Dismiss error",children:y.jsx(r,{size:18})})]}),y.jsx("div",{className:`mt-8 border-2 border-dashed rounded-lg p-8 text-center transition-all duration-200 ${l?"border-blue-500 bg-blue-50":n?"border-gray-300 bg-gray-50 cursor-not-allowed":"border-gray-300 hover:border-blue-400 hover:bg-blue-50 cursor-pointer"} ${i?"mt-16":""}`,onDragOver:d,onDragLeave:m,onDrop:x,children:y.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[y.jsx("div",{className:"p-3 rounded-full "+(l?"bg-blue-100 text-blue-600":n?"bg-gray-100 text-gray-400":"bg-gray-100 text-gray-600"),children:y.jsx(s,{size:24})}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("h3",{className:"text-lg font-medium "+(n?"text-gray-400":"text-gray-700"),children:a?"Upload PNG images":"Upload a PNG image"}),y.jsx("p",{className:"text-sm "+(n?"text-gray-400":"text-gray-500"),children:"Drag and drop, or click to select"})]}),y.jsx("input",{type:"file",accept:"image/png",className:"hidden",onChange:g,disabled:n,multiple:a,id:"file-upload"}),y.jsxs("label",{htmlFor:"file-upload",className:`py-2 px-4 rounded-md text-sm font-medium ${n?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 cursor-pointer"} transition-colors duration-200`,children:["Select ",a?"files":"file"]})]})})]})},E=({image:e,onRemove:t})=>y.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden animate-fadeIn",children:[y.jsxs("div",{className:"p-4 border-b",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"font-medium text-gray-800 truncate max-w-[200px]",title:e.file.name,children:e.file.name}),y.jsx("button",{onClick:()=>t(e.id),className:"text-gray-400 hover:text-red-500 transition-colors","aria-label":"Remove image",children:y.jsx(n,{size:18})})]}),(()=>{switch(e.status){case"converting":return y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-500 border-t-transparent"}),y.jsx("span",{className:"text-blue-600",children:"Converting..."})]});case"error":return y.jsxs("div",{className:"flex items-center space-x-2 text-red-500",children:[y.jsx(l,{size:16}),y.jsx("span",{children:e.error||"Conversion failed"})]});default:return null}})()]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Original (PNG)"}),y.jsx("div",{className:"aspect-square bg-gray-100 rounded-md flex items-center justify-center overflow-hidden",children:y.jsx("img",{src:e.originalSrc,alt:"Original",className:"max-w-full max-h-full object-contain"})}),y.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Size: ",S(e.originalSize)]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Converted (WebP)"}),y.jsx("div",{className:"aspect-square bg-gray-100 rounded-md flex items-center justify-center overflow-hidden",children:e.convertedSrc?y.jsx("img",{src:e.convertedSrc,alt:"Converted",className:"max-w-full max-h-full object-contain"}):y.jsx("div",{className:"text-gray-400 text-sm",children:"Not converted yet"})}),y.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Size: ",S(e.convertedSize),e.convertedSize&&y.jsxs("span",{className:"ml-2 text-green-600 font-medium",children:["(",C(e.originalSize,e.convertedSize)," saved)"]})]})]})]}),"completed"===e.status&&y.jsx("div",{className:"p-4 border-t bg-gray-50",children:y.jsxs("button",{onClick:()=>{e.convertedSrc&&"completed"===e.status&&fetch(e.convertedSrc).then((e=>e.blob())).then((t=>{N(t,k(e.file.name))}))},className:"w-full py-2 px-4 bg-teal-600 hover:bg-teal-700 text-white rounded-md flex items-center justify-center space-x-2 transition-colors duration-200",children:[y.jsx(a,{size:16}),y.jsx("span",{children:"Download WebP"})]})})]}),L=({images:e,onRemoveImage:t})=>0===e.length?null:y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:e.map((e=>y.jsx(E,{image:e,onRemove:t},e.id)))}),P=({quality:e,onQualityChange:t,onConvertAll:r,onDownloadAll:s,hasCompletedImages:n,isConverting:l})=>y.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"quality",className:"block text-sm font-medium text-gray-700 mb-1",children:["WebP Quality: ",Math.round(100*e),"%"]}),y.jsx("input",{type:"range",id:"quality",min:"1",max:"100",value:100*e,onChange:e=>{t(Number(e.target.value)/100)},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),y.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[y.jsx("span",{children:"Lower Quality"}),y.jsx("span",{children:"Better Quality"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-4",children:[y.jsxs("button",{onClick:r,disabled:l,className:"py-2 px-4 rounded-md flex items-center justify-center space-x-2 transition-colors duration-200 "+(l?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:[y.jsx(o,{size:16,className:l?"animate-spin":""}),y.jsx("span",{children:l?"Converting...":"Convert All"})]}),y.jsxs("button",{onClick:s,disabled:!n,className:"py-2 px-4 rounded-md flex items-center justify-center space-x-2 transition-colors duration-200 "+(n?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-200 text-gray-500 cursor-not-allowed"),children:[y.jsx(a,{size:16}),y.jsx("span",{children:"Download All"})]})]})]})}),O=()=>y.jsx("header",{className:"py-6 mb-6",children:y.jsxs("div",{className:"flex flex-col items-center text-center",children:[y.jsx("div",{className:"bg-blue-100 p-3 rounded-full text-blue-600 mb-4",children:y.jsx(i,{size:32})}),y.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"PNG to WebP Converter"}),y.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Convert your PNG images to WebP format right in your browser. No uploads to any server - all conversions happen locally on your device for maximum privacy."})]})}),z=()=>y.jsx("footer",{className:"py-8 mt-auto",children:y.jsxs("div",{className:"max-w-xl mx-auto text-center",children:[y.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6 flex items-start",children:[y.jsx("div",{className:"text-blue-500 mr-3 flex-shrink-0 mt-0.5",children:y.jsx(c,{size:20})}),y.jsx("p",{className:"text-sm text-blue-800 text-left",children:"WebP images typically reduce file size by 25-35% compared to PNG while maintaining similar quality, resulting in faster website loading times and lower bandwidth usage."})]}),y.jsxs("p",{className:"text-sm text-gray-500",children:["Â© ",(new Date).getFullYear()," PNG to WebP Converter. All conversions happen locally in your browser - no images are uploaded to any server."]})]})}),U=()=>{const[t,s]=e.useState([]),[n,a]=e.useState(.8),[l,o]=e.useState(!1),[i,c]=e.useState(null),d=t.some((e=>"converting"===e.status)),m=t.some((e=>"completed"===e.status)),u=e.useCallback((e=>{const t=e.map((e=>{new FileReader;return{id:Math.random().toString(36).substring(2,11),file:e,originalSrc:URL.createObjectURL(e),convertedSrc:null,originalSize:e.size,convertedSize:null,status:"idle"}}));s((e=>[...e,...t])),c(null)}),[]),x=e.useCallback((e=>{a(e)}),[]),g=e.useCallback((async e=>{if("converting"===e.status||"completed"===e.status)return e;const t={...e,status:"converting"};try{const{blob:r,size:s}=await(async(e,t)=>new Promise(((r,s)=>{const n=new FileReader;n.onload=e=>{var n;const a=new Image;a.onload=()=>{const e=document.createElement("canvas");e.width=a.width,e.height=a.height;const n=e.getContext("2d");n?(n.drawImage(a,0,0),e.toBlob((e=>{e?r({blob:e,size:e.size}):s(new Error("Failed to convert image"))}),"image/webp",t)):s(new Error("Failed to get canvas context"))},a.onerror=()=>{s(new Error("Failed to load image"))},a.src=null==(n=e.target)?void 0:n.result},n.onerror=()=>{s(new Error("Failed to read file"))},n.readAsDataURL(e)})))(e.file,n),a=URL.createObjectURL(r);return{...t,convertedSrc:a,convertedSize:s,status:"completed"}}catch(r){return console.error("Conversion error:",r),{...t,status:"error",error:r.message}}}),[n]),h=e.useCallback((async()=>{if(!l&&0!==t.length){o(!0),c(null);try{const e=[...t];for(let t=0;t<e.length;t++)if("completed"!==e[t].status){const r=await g(e[t]);e[t]=r,s([...e])}}catch(e){c(e.message||"An error occurred during conversion")}finally{o(!1)}}}),[t,l,g]),f=e.useCallback((()=>{m&&t.forEach((e=>{"completed"===e.status&&e.convertedSrc&&fetch(e.convertedSrc).then((e=>e.blob())).then((t=>{N(t,k(e.file.name))}))}))}),[t,m]),b=e.useCallback((e=>{s((t=>{const r=t.filter((t=>t.id!==e)),s=t.find((t=>t.id===e));return s&&(s.originalSrc&&URL.revokeObjectURL(s.originalSrc),s.convertedSrc&&URL.revokeObjectURL(s.convertedSrc)),r}))}),[]);return e.useEffect((()=>()=>{t.forEach((e=>{e.originalSrc&&URL.revokeObjectURL(e.originalSrc),e.convertedSrc&&URL.revokeObjectURL(e.convertedSrc)}))}),[t]),y.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[y.jsxs("div",{className:"container max-w-screen-xl mx-auto px-4 py-8 flex-grow",children:[y.jsx(O,{}),i&&y.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded mb-6 flex items-center justify-between animate-fadeIn",children:[y.jsx("span",{children:i}),y.jsx("button",{onClick:()=>c(null),className:"text-red-500 hover:text-red-700 transition-colors","aria-label":"Dismiss error",children:y.jsx(r,{size:18})})]}),y.jsx(R,{onFilesAccepted:u,disabled:d,multiple:!0}),t.length>0&&y.jsx(P,{quality:n,onQualityChange:x,onConvertAll:h,onDownloadAll:f,hasCompletedImages:m,isConverting:l||d}),y.jsx(L,{images:t,onRemoveImage:b})]}),y.jsx(z,{})]})};window.location.hostname.includes("stackblitz")||function(e={}){const{immediate:t=!1,onNeedRefresh:r,onOfflineReady:s,onRegistered:n,onRegisteredSW:a,onRegisterError:l}=e;let o,i;i=async function(){if("serviceWorker"in navigator){if(o=await function(e,t){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),s=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map((e=>{if((e=function(e){return"/"+e}(e))in w)return;w[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,s&&n.setAttribute("nonce",s),document.head.appendChild(n),t?new Promise(((t,r)=>{n.addEventListener("load",t),n.addEventListener("error",(()=>r(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then((t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)}))}((async()=>{const{Workbox:e}=await import("./workbox-window.prod.es5-p40uij6f.js");return{Workbox:e}}),[]).then((({Workbox:e})=>new e("/sw.js",{scope:"/",type:"classic"}))).catch((e=>{null==l||l(e)})),!o)return;o.addEventListener("activated",(e=>{(e.isUpdate||e.isExternal)&&window.location.reload()})),o.addEventListener("installed",(e=>{e.isUpdate||null==s||s()})),o.register({immediate:t}).then((e=>{a?a("/sw.js",e):null==n||n(e)})).catch((e=>{null==l||l(e)}))}}()}({immediate:!0,onNeedRefresh(){},onOfflineReady(){console.log("App ready to work offline")}}),v(document.getElementById("root")).render(y.jsx(e.StrictMode,{children:y.jsx(U,{})}));
//# sourceMappingURL=index-DH7N0aWN.js.map
